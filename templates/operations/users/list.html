{% extends "base.html" %}
{% block title %}Utilizadores · SideSales{% endblock %}
{% block content %}
<header class="panel-header">
    <div>
        <h2>Utilizadores</h2>
        <p class="muted">Gestão de acesso e perfis</p>
    </div>
    <a href="{% url 'operations:user_create' %}" class="btn primary">Novo utilizador</a>
</header>
<div class="table-wrapper">
<table class="table">
    <thead>
        <tr>
            <th>Nome</th>
            <th>Email</th>
            <th>Perfil</th>
            <th>Estado</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
            <tr>
                <td data-label="Nome">{{ user.get_full_name|default:user.username }}</td>
                <td data-label="Email">{{ user.email|default:'-' }}</td>
                <td data-label="Perfil">{{ user.display_role }}</td>
                <td data-label="Estado">
                    {% if user.is_active %}
                        <span class="text-success">Ativo</span>
                    {% else %}
                        <span class="text-danger">Inativo</span>
                    {% endif %}
                </td>
                <td data-label="Ações"><a href="{% url 'operations:user_update' user.pk %}">editar</a></td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="5" class="muted">Sem utilizadores para mostrar.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
